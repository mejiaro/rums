<div class="container">
  <br>
  <div class="row">
    <div class="col-9">
      <div class="row">
        <div class="col-9">
          <h1>Calendario</h1>
        </div>
        <div class="col-3">
          <strong>Ubicaci√≥n: </strong><%= select_tag('room_id', options_for_select(Room.all.collect{ |u| [u.name, u.id] }), include_blank: true, onchange: "location.href='/?room_id='+$(this).val();") %>
        </div>
      </div>
    </div>
    <div class="col-3">
    </div>
  </div>
  <div class="row">
    <div class="col-9">
      <%= month_calendar events: @reservations do |date, reservations| %>
        <%= date %>
        <% reservations.each do |reservation| %>
          <div>
            <span class="badge badge-info">Reservado</span>
          </div>
        <% end %>
      <% end %>
    </div>
    <div class="col-3">
      <div class="row align-items-center">
        <div class="col-12">
          <%= form_with scope: :reservation, url: reservations_path do |form| %>
          <i class="fa fa-plus" aria-hidden="true"></i> Nueva reserva 
            <div class="form-group">
              <br>
              <label><i class="fa fa-map-marker" aria-hidden="true"></i></label> 
              <%= form.select('room_id', options_for_select(Room.all.collect{ |u| [u.name, u.id] })) %>
            </div>
            <div class="form-group">
              <label><i class="fa fa-calendar" aria-hidden="true"></i></label> 
              <%= form.date_field :start_time, required: true %>
            </div>
            
            <%= form.submit "Reservar", class: "btn btn-primary" %>
          <% end %>
        </div>
        <div class="col-12">
          
        </div>
      </div>
    </div>
  </div>
</div>

